<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Venda de Festa Junina</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f7f7f7;
            margin: 0;
            padding: 0;
        }

        h1 {
            text-align: center;
            background-color: #ffcc66;
            padding: 20px;
            margin: 0;
        }

        .calculator {
            width: 90%;
            max-width: 400px;
            margin: 20px auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        }

        .item {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            align-items: center;
            margin: 10px 0;
            padding: 10px;
            background-color: #f9f9f9;
            border-radius: 5px;
        }

        .item img {
            max-width: 50px;
            max-height: 50px;
            margin-right: 10px;
        }

        .popup {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            align-items: center;
            justify-content: center;
        }

        .popup-content {
            background: #fff;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        .report {
            margin: 20px 0;
            padding: 10px;
            background-color: #f9f9f9;
            border-radius: 5px;
        }

        button {
            background-color: #ffcc66;
            color: #fff;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
        }

        button:hover {
            background-color: #ff9900;
        }

        #newValue {
            width: 100px;
            padding: 5px;
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <h1>Venda de Festa Junina</h1>

    <div class="calculator">
        <h2>Calculadora</h2>
        <div class="item">
            <img src="IMG/comida1.jpg" alt="Comida Salgada 1">
            <span>------------PIPOCA-------------- R$ <span id="comida1Price">5.00</span></span>
            <button onclick="addToTotal('comida1Price')">Adicionar</button>
            <button onclick="removeItem('comida1Price', 5)">Remover</button>
            <button onclick="showPopup('comida1Price')">Alterar Valor</button>
        </div>
        <div class="item">
            <img src="IMG/comida2.jpg" alt="Comida Salgada 2">
            <span>-------CACHORRO-QUENTE-------- R$ <span id="comida2Price">6.00</span></span>
            <button onclick="addToTotal('comida2Price')">Adicionar</button>
            <button onclick="removeItem('comida2Price', 6)">Remover</button>
            <button onclick="showPopup('comida2Price')">Alterar Valor</button>
        </div>
        <div class="item">
            <img src="IMG/comida3.jpg" alt="Comida Salgada 3">
            <span>--------------PASTEL---------------- R$ <span id="comida3Price">4.50</span></span>
            <button onclick="addToTotal('comida3Price')">Adicionar</button>
            <button onclick="removeItem('comida3Price', 4.5)">Remover</button>
            <button onclick="showPopup('comida3Price')">Alterar Valor</button>
        </div>
        <div class="item">
            <img src="IMG/doce1.jpg" alt="Doce 1">
            <span>------------BRIGADEIRO-------------- R$ <span id="doce1Price">3.00</span></span>
            <button onclick="addToTotal('doce1Price')">Adicionar</button>
            <button onclick="removeItem('doce1Price', 3)">Remover</button>
            <button onclick="showPopup('doce1Price')">Alterar Valor</button>
        </div>
        <div class="item">
            <img src="IMG/doce2.jpg" alt="Doce 2">
            <span>-------PÉ DE MOLEQUE------- R$ <span id="doce2Price">2.50</span></span>
            <button onclick="addToTotal('doce2Price')">Adicionar</button>
            <button onclick="removeItem('doce2Price', 2.5)">Remover</button>
            <button onclick="showPopup('doce2Price')">Alterar Valor</button>
        </div>
        <div class="item">
            <img src="IMG/doce3.jpg" alt="">
            <span>--------------BOLO-------------- R$ <span id="doce3Price">4.00</span></span>
            <button onclick="addToTotal('doce3Price')">Adicionar</button>
            <button onclick="removeItem('doce3Price', 4)">Remover</button>
            <button onclick="showPopup('doce3Price')">Alterar Valor</button>
        </div>
        <div class="item">
            <img src="IMG/bebida1.jpg" alt="">
            <span>---------REFRIGERANTE--------- R$ <span id="bebida1Price">2.00</span></span>
            <button onclick="addToTotal('bebida1Price')">Adicionar</button>
            <button onclick="removeItem('bebida1Price', 2)">Remover</button>
            <button onclick="showPopup('bebida1Price')">Alterar Valor</button>
        </div>
        <div class="item">
            <img src="IMG/bebida2.jpg"alt="">
            <span> -----------------ÁGUA----------------- R$ <span id="bebida2Price">1.50</span></span>
            <button onclick="addToTotal('bebida2Price')">Adicionar</button>
            <button onclick="removeItem('bebida2Price', 1.5)">Remover</button>
            <button onclick="showPopup('bebida2Price')">Alterar Valor</button>
        </div>
        <div class="item">
            <img src="IMG/bebida3.jpg" alt="">
            <span>---------------QUENTÃO---------------- R$ <span id="bebida3Price">3.50</span></span>
            <button onclick="addToTotal('bebida3Price')">Adicionar</button>
            <button onclick="removeItem('bebida3Price', 3.5)">Remover</button>
            <button onclick="showPopup('bebida3Price')">Alterar Valor</button>
        </div>
        <!-- Adicione mais itens com imagens, botões e inputs conforme necessário -->
        
        <h3>Total: R$ <span id="total">0.00</span></h3>
        <button onclick="finalizeSale()">Efetivar Venda</button>
    </div>

    <!-- Relatório de Venda -->
    <div class="report">
        <h2>Relatório de Venda</h2>
        <ul id="reportList"></ul>
        <p>Total: R$ <span id="reportTotal">0.00</span></p>
    </div>

    <!-- Pop-up para alterar valores -->
    <div class="popup" id="valuePopup">
        <div class="popup-content">
            <h3>Alterar Valor</h3>
            <input type="number" id="newValue">
            <button onclick="updateValue()">Salvar</button>
            <button onclick="closePopup()">Fechar</button>
        </div>
    </div>

    <script>
        let total = 0;
        let selectedItem = '';
        const report = document.getElementById('reportList');
        const reportTotal = document.getElementById('reportTotal');

        function addToTotal(priceId) {
            const price = parseFloat(document.getElementById(priceId).textContent);
            if (!isNaN(price)) {
                total += price;
                document.getElementById("total").textContent = total.toFixed(2);
                addItemToReport(priceId);
            }
        }

        function removeItem(priceId, price) {
            total -= price;
            document.getElementById("total").textContent = total.toFixed(2);
            removeItemFromReport(priceId);
        }

        function showPopup(priceId) {
            selectedItem = priceId;
            document.getElementById('valuePopup').style.display = 'block';
        }

        function updateValue() {
            const newValue = parseFloat(document.getElementById('newValue').value);
            if (!isNaN(newValue)) {
                document.getElementById(selectedItem).textContent = newValue.toFixed(2);
                closePopup();
            }
        }

        function closePopup() {
            document.getElementById('valuePopup').style.display = 'none';
        }

        function addItemToReport(priceId) {
            const itemName = document.getElementById(priceId).parentNode.textContent;
            const itemPrice = parseFloat(document.getElementById(priceId).textContent);
            const listItem = document.createElement('li');
            listItem.textContent = `${itemName} - R$ ${itemPrice.toFixed(2)}`;
            listItem.id = `report-${priceId}`;
            report.appendChild(listItem);

            // Atualizar o total no relatório
            const currentReportTotal = parseFloat(reportTotal.textContent);
            if (!isNaN(currentReportTotal)) {
                reportTotal.textContent = (currentReportTotal + itemPrice).toFixed(2);
            }
        }

        function removeItemFromReport(priceId) {
            const listItem = document.getElementById(`report-${priceId}`);
            if (listItem) {
                const itemPrice = parseFloat(document.getElementById(priceId).textContent);
                report.removeChild(listItem);
                const currentReportTotal = parseFloat(reportTotal.textContent);
                if (!isNaN(currentReportTotal)) {
                    reportTotal.textContent = (currentReportTotal - itemPrice).toFixed(2);
                }
            }
        }

        function finalizeSale() {
            // Zerar o total, esvaziar o relatório e redefinir o relatório total
            total = 0;
            document.getElementById("total").textContent = total.toFixed(2);
            report.innerHTML = '';
            reportTotal.textContent = '0.00';
        }
    </script>
</body>
</html>
